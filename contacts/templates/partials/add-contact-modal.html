{% comment %} rendering form {%endcomment %}
{% comment %} https://htmx.org/attributes/hx-post/ => to send htmx post request {% endcomment %}

<dialog id="contact_modal" class="modal">
  <div class="modal-box">
    <h3 class="font-bold text-lg mb-4">Add New Contact</h3>
    <form hx-post={% url "create_contact" %} hx-target="#contact-table-body" hx-swap="afterbegin" hx-on:contact-success = 'contact_modal.close(); this.reset();' class="mb-4 mt-4">
      {% csrf_token %}
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Name</span>
        </label>

        {{form.name}} {% if form.name.errors %}
        <label class="label text-error">{{form.name}}</label>
        {% endif %}
      </div>

      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Name</span>
        </label>

        {{form.email}} {% if form.email.errors %}
        <label class="label text-error">{{form.email}}</label>
        {% endif %}
      </div>

      <div class="mt-4">
        <button class="btn btn-secondary" type="submit">Add Contact</button>
      </div>
    </form>
    <p class="py-4">Press ESC key or click the button below to close</p>
  </div>
</dialog>
